# ---------------------------------------------------------------------------- #
# Metrics required LPJmL outputs and boundaries functions
# ---------------------------------------------------------------------------- #
metric:
    # Biome classification
    biome:
        # LPJmL output IDs with required resolution
        output: &biome_output
            grid: "annual"
            fpc: "annual"
            vegc: "annual"
            pft_lai: "annual"
            temp: "annual"
        # Called boundaries functions
        fun: &biome_fun
            - classify_biomes

    # Calculate bluewater boundary
    bluewater: &bluewater
        # LPJmL output IDs with required resolution
        output:
            grid: "annual"
            discharge: "monthly"
            irrig: "monthly"
        # Called boundaries functions
        fun:
            - calc_bluewater_status

    # Calculate greenwater boundary
    greenwater: &greenwater
        # LPJmL output IDs with required resolution
        output:
            grid: "annual"
            rootmoist: "monthly"
            swc: "monthly"
        # Called boundaries functions
        fun:
            - calc_greenwater_status

    # Calculate nitrogen boundary
    nitrogen: &nitrogen
        # LPJmL output IDs with required resolution
        output:
            grid: "annual"
            runoff: "annual"
            leaching: "annual"
            pet: "annual"
            prec: "annual"
        # Called boundaries functions
        fun: &nitrogen_fun
            - calc_nitrogen_status

    # Calculate lsc boundary
    lsc: &lsc
        # LPJmL output IDs with required resolution
        output:
            <<: *biome_output
        fun:
            - *biome_fun
            - calc_lsc_status


    # Calculate meco
    meco:
        # LPJmL output IDs with required resolution
        output: &meco_output
            grid: "annual"
            fpc: "annual"
            fpc_bft: "annual"
            cftfrac: "annual"
            firec: "annual"
            npp: "annual"
            runoff: "annual"
            transp: "annual"
            vegc: "annual"
            firef: "annual"
            rh: "annual"
            harvestc: "annual"
            evap: "annual"
            interc: "annual"
            soilc: "annual"
            litc: "annual"
            swc: "annual"
        # Called boundaries functions
        fun: &meco_output
            []

    # Calculate meco_nitrogen
    meco_nitrogen:
        # LPJmL output IDs with required resolution
        output:
            <<: *meco_output
            vegn: "annual"
            soilnh4: "annual"
            soilno3: "annual"
            leaching: "annual"
            n2o_denit: "annual"
            n2o_nit: "annual"
            n2_emis: "annual"
            bnf: "annual"
            n_volatilization: "annual"
        # Called boundaries functions
        fun:
            []

    # Calculate meco_nitrogen
    mcol:
        # LPJmL output IDs with required resolution
        output:
            grid: "annual"
            npp: "annual"
            pft_npp: "annual"
            pft_harvestc: "annual"
            pft_rharvestc: "annual"
            firec: "annual"
            timber_harvestc: "annual"
            cftfrac: "annual"
            fpc: "annual"
        # Called boundaries functions
        fun:
            []


# ---------------------------------------------------------------------------- #
# Allowed output file names for LPJmL output IDs
# ---------------------------------------------------------------------------- #
file_name:
    grid: ["grid"]
    discharge: ["discharge", "mdischarge"]
    irrig: ["irrig", "mirrig"]
    rootmoist:  ["rootmoist", "mrootmoist"]
    swc: ["swc", "mswc"]
    fpc: ["fpc"]
    fpc_bft: ["fpc_bft"]
    cftfrac: ["cftfrac"]
    firec: ["firec", "mfirec"]
    npp: ["npp", "mnpp"]
    runoff: ["runoff", "mrunoff"]
    transp: ["transp", "mtransp"]
    vegc: ["vegc"]
    firef: ["firef", "mfiref"]
    rh: ["rh"]
    harvestc: ["harvestc"]
    evap: ["evap", "mevap"]
    interc: ["interc", "minterc"]
    soilc: ["soilc"]
    litc: ["litc"]
    vegn: ["vegn"]
    soilnh4: ["soilnh4"]
    soilno3: ["soilno3"]
    leaching: ["leaching", "mleaching"]
    n2o_denit: ["n2o_denit", "mn2o_denit"]
    n2o_nit: ["n2o_nit", "mn2o_nit"]
    n2_emis: ["n2_emis", "mn2_emis"]
    bnf: ["bnf", "mbnf"]
    n_volatilization: ["n_volatilization", "mn_volatilization"]
    pft_npp: ["pft_npp"]
    pft_harvestc: ["pft_harvestc"]
    pft_rharvestc: ["pft_rharvestc"]
    timber_harvestc: ["timber_harvestc"]
    pft_lai: ["pft_lai"]
    temp: ["temp", "mtemp"]
    pet: ["pet"]
    prec: ["prec","mprec"]
